---
title: "[통신 및 네트워크] 네트워크 계층"
date: 2023-11-20 13:29:08 +0900
categories: [Study, Data Communication Network]
tags: [network]
---

> 데이터통신과 네트워킹, 조성호 저, 인피니티북스
> 
> > Chapter 9. 네트워크 계층

<br>

## **네트워크 계층**

### **네트워크 계층의 이해**

IP는 네트워크 계층을 대표하는 프로토콜로, 인터넷에서 LAN들을 지나 데이터를 전달하기 위해 만들어졌으며 데이터 단위로 패킷을 사용한다.

이러한 네트워크 계층의 가장 중요한 역할은 상위 계층인 전송 계층으로부터 전달된 데이터를 패킷에 넣어 목적지까지 잘 전달하는 것.

모든 패킷은 하나의 길로 가지 않고 매 순간 가장 빠르다고 생각되는 길로 이동한다. 어떤 길로 패킷을 보낼지를 결정하는 것을 **라우팅**이라고 하며, 이 경로를 결정하는 방법을 정해 놓은 것이 **라우팅 알고리즘**이다. 이때 인터넷에서 LAN과 LAN을 연결해주는 기계가 **라우터**이다.

<br>

### **가상 회선**

네트워크 계층에서는 수시로 변하는 라우터의 상태나 네트워크 선의 상태를 고려하여 가장 빠르다고 생각되는 경로로 패킷을 전송하기 때문에, 먼저 보낸 패킷이 더 늦게 도착하거나 길을 잘못 들어 목적지에 도착하지 못하는 패킷이 생기기도 한다. 이러한 IP의 특징을 best efforts, not guarantee라 부른다.

가상 사설망은 인터넷 망(패킷 교환망)의 일정 채널을 빌린 후 독점적으로 사용하는 것으로, 기존의 인터넷 망을 회선 교환망처럼 사용한다. 가상 사설망에서는 통신을 하기 전에 셋업 단계를 거치며, 이후로는 정해진 경로로만 패킷을 주고받을 수 있다. 따라서 순서가 뒤바뀌거나 사라지는 일이 발생하지 않는다. 이러한 데이터 전송 방식을 가상 회선 방식이라고 한다.

<br>

<br>

## **IP 주소 체계와 설정값**

### **IP 설정 값에는 무엇이 있을까?**

IP 설정 중 IP 할당을 보면 자동(DHCP)로 되어 있다.

**DHCP**(Dynamic Host Configuration Protocol)란, IP 주소와 같은 TCP/IP 통신을 수행하기 위한 네트워크 구성 파라메터를 동적으로 설정하기 위해 사용되는 표준 네트워크 프로토콜이다. 원래 네트워크 관리자는 ISP(Internet Service Provider)로부터 할당받은 주소 블록 내에서 해당 기관의 호스트들에게 IP 주소를 할당하고 관리해야 한다. 그러나 DHCP를 이용하면 네트워크 관리자는 이러한 작업을 수동으로 하지 않고 자동으로 관리할 수 있는데, DHCP는 호스트가 네트워크에 접속하고자 할 때마다 IP를 동적으로 할당받을 수 있도록 해 준다. DHCP 서버는 IP 주소들의 풀과 클라이언트 설정 파라메터를 관리한다.

<br>

### **IP 주소 체계의 이해**

LAN에 속한 노드들이 사용하는 주소는 6바이트의 MAC 주소이다. 무작위로 배정된 MAC 주소를 인터넷에서 사용한다고 가정하면 통신하려는 노드들이 상대방의 MAC 주소와 위치를 모두 기억하고 있어야 하는데, 사실상 수억대에 이르는 노드가 서로의 주소와 위치를 기억하는 것은 불가능하다. 따라서 IP 주소가 필요해진다.

 IP 주소는 4바이트로 구성되며, 일반적으로 사용하는 IP 주소는 전체 4바이트 중 앞의 3바이트가 네트워크 주소를 나타낸다. 이는 전화번호와 같이 지역코드 개념을 도입하여 네트워크 주소만 보고도 라우팅을 할 수 있도록 구성한 것이다. 예를 들어 OO대학교 강의실에 30대의 컴퓨터가 있다고 가정했을 때, 30대 모두 IP 주소의 앞자리 3개는 동일하기 때문에 서로 다른 숫자는 4번째 주소뿐이다. 이 4번째 주소는 각 컴퓨터를 구분하는 개별 주소, 즉 호스트 주소가 된다.

<br>

### **도메인 이름 서비스**

인터넷에서 통신하기 위해서는 IP 주소가 필요하지만, 사람이 모든 주소를 기억하기에는 어려움이 있다. 따라서 인터넷에 있는 IP 주소에 이름을 부여하였는데 이를 도메인 이름이라고 한다. 대체적으로 "이름.종류.국가" 형식으로 작성되나 그렇지 않은 경우도 많다.

도메인 이름을 주면 해당 이름의 IP 주소를 알려주는 컴퓨터를 도메인 이름 서비스(Domain Name Service, DNS)라 부른다. 즉, DNS는 도메인 이름과 IP 주소를 테이블 형태로 모아 놓은 서버이다.

DNS는 계층 구조(루트→지역)를 가진다. DNS 1차/루트 서버가 해킹이나 사고에 의해 멈추면 전 세계 인터넷이 먹통이 될 수 있기 때문에 각 나라별, 지역별로 DNS를 따로 운영한다. 지역에 있는 DNS의 경우 컴퓨터의 처리 용량이나 크기가 루트 DNS에 비하여 매우 작기 때문에 일부 도메인 이름만을 가지고 있다. 따라서 지역 DNS에 도메인 정보가 없는 경우, 루트 DNS에게 주소를 물어보게 되는데, 자주 방문하지 않은 사이트를 방문하는 경우에는 루트 DNS까지 갔다 와야 하기 때문에 웹브라우저가 조금 늦게 반응하는 것을 확인할 수 있다.

<br>

### **서브넷 마스크**

네트워크 주소와 호스트 주소를 알아내는 수단이다.

IP 주소와 서브넷 마스크의 AND 연산을 통하여 네트워크 주소를 찾을 수 있다. 네트워크 주소 자리에 마스크를 1로 만들고, 호스트 주소 자리에 0을 만들면 서브넷 마스크가 된다.

(image)

<br>

### **게이트웨이**

데이터가 지나다니는 통로이다. 서로 다른 네트워크의 경계선에 있는 호스트 혹은 장치이자, 종류가 다른 네트워크/프로토콜의 연결 역할을 하는 장치 혹은 소프트웨어이다.

<br>
