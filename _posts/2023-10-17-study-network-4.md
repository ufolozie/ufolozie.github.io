---
title: "[통신 및 네트워크] 무선통신 시스템"
date: 2023-10-17 13:13:39 +0900
categories: [Study, Data Communication Network]
tags: [network]
---

> 데이터통신과 네트워킹, 조성호 저, 인피니티북스
> 
> > Chapter 8. 무선통신 시스템

<br>

## **와이파이**

### **와이파이 개요**

무선 근거리 네트워크(WLAN, Wireless LAN)이자 하나의 LAN선에 여러 개의 컴퓨터, 노트북, 프린터 기기들을 공유하도록 만든 공유기(허브)를 무선으로 연결할 수 있도록 만든 장치로, **무선 LAN** 혹은 **무선 공유기**라고 부른다. 그리고 와이파이 얼라이언스(WiFi alliance)의 상표이기도 하다.

와이파이 규격은 IEEE의 802.11에 명시되어 있기 때문에 **802.11 호환 무선 네트워크**라고도 부른다.

(image)

다양한 규격 중 가장 처음 대중화된 WiFi 1은 802.11b에 명시되어 있으며, 2.4GHz 대역을 사용하고 최대 전송량은 11Mbps이다. WiFi 2(802.11a)부터 5GHz 대역을 지원하기 시작하였으며, WiFi 5(802.11ac)는 5GHz 대역만 사용하며 최대 3.7Gbps를 지원한다.

와이파이는 무선을 사용하기에 물리적으로 무선 공유기에 연결할 필요가 없지만, 유선 연결보다는 덜 안전한 편이다. 따라서 다양한 암호화 기술을 채택해왔으며, 현재는 WPA나 WPA2와 같은 높은 품질의 프로토콜을 사용하고 있다.

<br>

### **CSMA/CA**

<u>RTS와 CTS를 사용하여 숨겨진 호스트 문제를 해결하고 충돌을 회피하는 방식</u>

와이파이는 이더넷과 같이 CSMA(Carrier Sense Multiple Access) 방식을 사용하기 때문에 모든 호스트들이 통신선을 감시하고 통신선이 비었을 때 경쟁적으로 프레임을 전송한다.

다만 무선에서는 호스트마다 도달하는 전파의 범위가 다르기 때문에 호스트들이 모든 신호를 감지할 수 없어 여러 가지 문제가 발생하게 된다.

(image)

그림과 같이 A 호스트의 전파 범위가 B와 C 호스트까지만 닿는다고 가정해 보자. 이러한 경우 A 호스트의 입장에서 D 호스트는 숨겨진 호스트이다.

(image)

현재 A 호스트와 B 호스트는 통신을 하고 있다. B 호스트의 전파는 전체 범위에 도달하기 때문에, B에서 A로 데이터를 전송하는 경우 D 호스트가 이를 감지할 수 있다. 그러나 A에서 B로 데이터를 전송하는 경우에는 D 호스트는 이를 감지할 수 없다. A 호스트에서 B 호스트로 데이터를 전송하는 중에 D 호스트가 이를 감지하지 못하고 B 호스트에게 데이터를 보내면 충돌이 일어나게 되며, 이를 *숨겨진 호스트 문제*라고 한다.   

(image)

현재 A 호스트는 그림상에는 안 보이는 다른 X 호스트와 통신을 하고 있다. C 호스트는 D 호스트와 통신을 하려 하는데 A 호스트의 신호를 감지하게 되고, A 호스트가 누구와 통신하고 있는지 모른다(호스트끼리는 서로의 전파 범위를 모른다). 만약 A가 D와 통신을 하는 경우 C가 D에게 신호를 보내면 충돌이 발생하기 때문에 C 호스트는 A 호스트가 끝날 때까지 통신을 포기한다. 이러한 문제를 *노출된 호스트 문제*라고 한다. 숨겨진 호스트 문제와 달리 노출된 호스트 문제는 충돌을 발생시키지는 않기 때문에 문제가 되지는 않는다.

숨겨진 호스트 문제를 해결하기 위해 와이파이에서는 CSMA/CA(Collision Avoidance)를 사용한다. 여기서는 충돌 회피를 위해 데이터 전송 전에 특별한 데이터를 주고 받는다.

A 호스트와 B 호스트가 통신을 한다고 가정해 보자. A 호스트가 RTS(Ready To Send) 신호를 보내면 B 호스트는 허락의 의미로 CTS(Clear To Send) 신호를 보낸다. RTS와 CTS는 A와 B 호스트가 다른 호스트들에게 통신이 시작됨을 알리는 신호인 것이다. RTS와 CTS에 '언제까지 통신을 끝내겠다'는 신호인 타임아웃을 명시하기 때문에 RTS와 CTS를 받은 다른 호스트들은 이 통신이 언제까지 완료되는지를 알게 된다.

다른 호스트들이 통신을 시작하면 나머지 호스트들은 타임아웃 시점까지 가상전송(NAV, Network Allocation Vector) 모드에 진입한다. 즉, 누군가 통신선을 사용 중이기 때문에 전송을 할 수 없는 상태가 되는 것이다.

(image)

A 호스트가 RTS를 B 호스트에게 전송하면 C 호스트는 A와 B가 통신을 한다는 것을 알게 된다. 따라서 C 호스트는 타임아웃 시점까지 가상전송 모드로 진입한다. 이 경우 A의 숨겨진 호스트인 D는 RTS를 받지 못하지만, B 호스트가 보내는 CTS는 받을 수 있다. D 호스트가 CTS를 수신하면 B 호스트가 누군가와 통신한다는 것을 감지하고 타임아웃까지 가상전송 모드에 진입할 수 있다. 이러한 상황에서 그림에 없는 E 호스트가 D 호스트와 통신하기 위해 RTS를 보내더라도, D 호스트는 현재 가상전송 모드이기 때문에 CTS를 보낼 수 없어 통신을 시작할 수 없게 된다.

<br>

<br>

## **블루투스와 비콘**

### **블루투스 개요**

<u>기기 간의 간단한 연결을 위해 만들어진 무선통신 시스템</u>

무선 개인 통신망(WPAN, Wireless Personal Area Network)은 개인의 작업 공간에 장치들을 연결하기 위한 컴퓨터 네트워크로 10m 정도의 거리에서 통신이 가능하다는 특징이 있다. 블루투스는 WPAN의 대표적 통신규격이다.

블루투스 개발 이후에는 주변 장치들을 무선으로 연결하여 편리하게 사용할 수 있게 되었다.

블루투스는 IEEE 802.15.1에 규정되어 있으며, 와이파이와 같은 2.4GHz 대역을 사용한다. 무선 장치의 경우 배터리 소모가 가장 중요한 문제이기 때문에 저전력을 사용하도록 설계되었다. 따라서 전파의 강도가 약하여 약 10m 정도의 거리에서 접속이 가능하다.

(image)

여기서 버전 4.0의 Bluetooth Low Energy(BLE)는 사물 인터넷이 발달하면서 전원을 설치하거나 배터리르 자주 갈아주기 힘든 센서들을 위해 개발된 것이다. BLE는 배터리 하나로 수 년간 작동할 수 있다.

<br>

### **블루투스 특징**

블루투스가 네트워크를 구성하는 방식을 애드혹(Ad-hoc) 방식이라고 한다. 기존의 LAN이나 인터넷망과의 연결 없이 기기들이 네트워크를 구성하는 방식이다.

블루투스 네트워크는 1개의 마스터(master)와 여러 개의 슬레이브(slave)로 구성된다. 블루투스 기기를 처음 연결하기 위해서는 마스터 기기가 슬레이브 기기를 하나의 쌍으로 묶는 페어링(pairing)을 해야 하는데, 여기서 마스터는 주 노드, 슬레이브는 종속 노드를 의미한다. 예를 들어 스마트폰에 무선 이어폰을 연결하는 경우 스마트폰은 마스터, 무선 이어폰은 슬레이브라고 할 수 있다.

블루투스 네트워크는 연결 범위 및 기기의 수가 많지 않기 때문에 아주 작은 네트워크라는 의미에서 피코넷(piconet)이라 부르기도 한다. 피코넷은 마스터 1개와 슬레이브 7개로 구성되며, 여기서 7개의 슬레이브는 활동 중인 블루투스 기기의 최대 개수를 의미한다. 등록은 되어 있지만 쉬고 있는 파크(park) 상태의 기기는 최대 256개까지이다.

블루투스에서 피코넷을 조합하여 만들어지는 네트워크를 스캐터넷(scatternet)이라 부른다. 두 피코넷에 공동으로 속하는 노드를 브릿지 슬레이브(bridge slave)라 부르고 스캐터넷의 마스터로서 동작한다.

<br>

### **블루투스 프레임**

블루투스에는 버전에 따라 다양한 프레임이 존재하며, 아래 그림은 대표적 프레임 구조를 나타낸다.

(image)

- 접근 코드 (72비트): 프리앰블과 피코넷 프레임을 구별하기 위한 식별자 포함

- 헤더 (54비트): 하나당 크기가 18비트로 같은 내용이 3번 반복됨.  
  처음 3비트는 주소를 나타내는데, 이는 슬레이브 ID를 의미함. 가질 수 있는 주소는 최대 8(=$2^3$)개지만 그중 000 주소는 모든 슬레이브에게 브로드캐스팅하는 주소로 사용되므로 슬레이브는 최대 7개가 되는 것.  
  4비트의 타입 필드는 상위 계층으로부터 오는 데이터의 유형을 나타냄. F가 1이면 마스터가 프레임을 수신할 수 없는 상태임을 의미하고(흐름 제어), A는 Stop and Wait ARQ 환경에서의 응답 메시지(ACK)를 의미, S는 순서를 의미함.  
  8비트 HFC는 헤더에 대한 오류 탐색 필드로 검사합 방식을 사용함.

- 데이터 (0 ~ 2744비트)

<br>

### **비콘**

<u>스마트 기기를 자동으로 인식하여 필요한 데이터를 전송하는 장치</u>

블루투스 4.0에서는 단방향 모드가 추가되었는데, 이를 이용한 것이 비콘이다. 원래 블루투스는 페어링을 한 후에 작동되기 때문에 양방향으로 통신이 이루어져야 하지만, 단방향 모드를 사용하면 페어링 없이 스마트 기기에서 블루투스 기기로 데이터를 보낼 수 있다. 또한 블루투스끼리 통신하기 위하여 대기를 할 필요가 없게 된다. 비콘은 약 50m까지 송수신이 가능하다.

실생활에서는 자동 출석 시스템 등에 활용되고 있다.

<br>

<br>

## **RFID와 NFC**

### **ID 코드의 발전**

ID 코드(identification code)란 사물을 구분하기 위해 만들어진 정보 체계를 의미한다.

1. 바코드(bar code): 숫자로 이루어진 코드를 바코드 리더기로 읽어서 사용하는 방식. 자체적으로 데이터를 가지고 있지 않기 때문에 서버가 연결되어 있을 때만 사용이 가능함. 보안에 취약.

2. QR코드(Quick Response Code): 바코드를 개선한, 코드에 일정 수준의 데이터를 담을 수 있는 코드. 보안에 취약함.

3. RFID(Radio Frequency IDentification): 일명 전자태그. 라디오 주파수 대역을 사용하여ID 정보를 전달하는 시스템.

<br>

### **RFID의 특징**

- 능동형 RFID: 기존의 네트워크 장비와 마찬가지로 자체적인 배터리를 사용하여 통신하는 장치. 배터리를 사용하게 되면 제품의 크기를 작게 만들기 어렵고, 배터리를 작게 만들면 자주 교환하거나 충전시켜야 해서 불편함.

- 수동형 RFID: 자체적으로 배터리나 전기를 가지지 않는 통신 시스템

- 반수동형 RFID: 능동형 + 수동형

RFID는 데이터를 가진 RFID 태그와 RFID 리더기로 구성된다. 태그 안의 작은 칩에 암호화 된 정보가 담겨 있으며, 정보는 최대 1MB까지 담을 수 있다. 배터리를 포함하지 않는 RFID 태그는 전자기 유도 방식으로 통신한다.  
*전자기 유도 방식: 전파를 전기로 바꾸는 방식. RFID 태그를 보면 데이터를 보관하고 있는 칩 주위로 가늘고 기다란 안테나가 달려 있는데, 이 안테나가 전파를 수신하면 전파가 전기로 변한다.

수동형 RFID 시스템에서는 RFID 리더기가 전파를 쏘면 태그에 달린 안테나가 전파를 받아서 전기로 만들고, 만들어진 전기를 사용하여 데이터를 전송한다.

이러한 특징으로 인해 먼 거리에서도 태그를 읽을 수 있으며, 리더기와 태그 사이에 장애물이 있어도 이를 통과하여 데이터를 보낼 수 있다.

실생활에서는 휴대폰 무선 충전 시스템, 전동칫솔, 도서관 책 반납 시스템, 아파트 출입관리 시스템, 하이패스, 쇼핑몰 도난방지 시스템 등 다양한 곳에서 사용된다.

다만 전파를 수신해야만 전기를 만들어 데이터를 송신할 수 있기 때문에 전파가 차단되는 경우 데이터를 읽을 수 없고, RFID 리더기와 태그가 정면으로 마주보지 않으면 전파가 전기를 생성할 수 없다는 단점이 있다.

<br>

### **RFID의 기술적 특징**

- 능동형 RFID: 태그에 자체적인 전원을 가지고 있는 방식. 고가이고, 정확도가 높으며, 인식 거리가 긺.

- 수동형 RFID: 태그에 전원이 없고 전자기 유도 방식으로 통신. 저가지만 인식 거리가 짧음.

- 반수동형 RFID: 태그 발신기가 있어 수동형 태그의 신호를 증폭하여 발신하는 방식

(image)

<br>

### **NFC(Near Field Communication)**

<u>13.56MHz 대역의 주파수를 사용하는 초근거리 무선통신 기술</u>

현재 지원되는 데이터통신 속도는 초당 424Kbps이며 P2P 네트워크이다. 수신 범위는 10cm 정도.

RFID 기술을 기반으로 NFC가 만들어졌기 때문에 일반적으로 RFID가 NFC 기술을 포함한다. 그러나 RFID는 단방향 통신이고 NFC는 양방향 통신이라는 점이 다르다. NFC는 상황에 따라 태그와 리더 역할 변경이 가능하다. 예를 들어 NFC 기능이 내장된 스마트폰의 경우 신용카드 모드를 사용할 땐 태그로서의 역할을 수행하고, NFC 태그에 역할을 갖다 댈 때는 리더 역할을 수행한다.

<br>

<br>

## **지그비**

### **지그비(Zigbee)**

사물 인터넷이 발달하면서 각종 센서들과 기기들이 인터넷에 연결되기 시작하였는데, 이러한  센서 및 기기들은 높은 주파수 대역폭을 필요로 하지는 않지만 배터리 교체 없이 장기간 사용이 가능해야 하고 짧은 대기시간을 필요로 한다. 또한 기기들이 넓은 지역에 퍼져 있을 수 있기 때문에 먼 거리까지 데이터를 전송하면서도 낮은 에너지를 소비하는 장비 개발이 필요하다. 이러한 사양을 만족시키는 기술이 지그비이다.

지그비 기술은 IEEE 802.15.4에 등재되어 있다. 2.4GHz를 사용하고 전송률은 최대 250Kbps까지 가능하다. 유니캐스트, 멀티캐스트, 브로드캐스트를 모두 지원하고, 128비트 대칭키 암호화를 이용한 보안을 제공한다. 또한 충돌 방지 프로토콜로 CSMA/CA를 사용한다.

지그비는 별 형태, 클러스터 트리 형태, 메시 형태의 네트워크를 구성할 수 있으며, 노드의 종류는 다음과 같다.

- 지그비 코디네이터: 네트워크를 형성하고 다른 네트워크들과 연결을 담당. 네트워크에 관한 정보를 저장할 수 있고, 보안 키를 위한 저장소 역할. 가장 중요한 노드.

- 지그비 라우터: 애플리케이션 기능뿐 아니라 다른 노드로부터 데이터를 전달하는 기능

- 지그비 엔드 디바이스: 다른 노드와 통신하는 노드

지그비는 주기적 또는 간헐적인 단순 신호를 전달해야 하는 네트워크에 적합하기 때문에 무선 조명 스위치, 전력량계, 교통관리 시스템, 산업용 센서 등에 사용된다.

<br>

### **주요 무선통신 시스템 비교**

(image)

와이파이, 블루투스, 지그비의 공통점은 모두 IEEE 802에 규정되어 있고, 2.4GHz 대역을 사용하는 기기라는 점이다. 와이파이의 경우 추가적으로 5GHz도 사용한다.

<br>
